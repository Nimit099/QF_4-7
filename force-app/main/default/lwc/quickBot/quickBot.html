<template>
    <template if:true={showComponent}>
        <c-errorpopup></c-errorpopup>
        <!-- ============== error toast=========== -->
        <template if:true={error_toast}>
            <c-toast-component></c-toast-component>
        </template>
        <!-- ============== error toast=========== -->

        <div class="Quickbot_maincontaner">
            <div class="Quickbot_contaner" style={bgimg}>
                <div class="quickbot_header">
                    <div class="quickbot_header_title">
                        <div class="quickbot_header_igdiv">
                            <img src={Logo}>
                        </div>
                        <div class="quickbot_header_body">
                                <div class="quickbot_text">{header}</div>
                            <img src={Cross} class="cross_img" onclick={quickboe_close}>
                        </div>
                    </div>
                </div>
                <div class="QuickBotBody">
                    <div class="main_wel">
                        <template if:true={wel_message}>
                            <template if:true={first_icon}>
                                <div class="quickbot_header_igdiv1">
                                    <img src={Logo}>
                                </div>
                            </template>
                            <div class="Wel_message">
                                <p>Hello!!<span>&#128075;</span> Welcome to the Quick Bot. <br> Please fill below form for
                                    your query.</p>
                            </div>
                        </template>
                    </div>
                    <div class="form_message">
                        <template if:true={feedback_form}>
                            <div class="quickbot_header_igdiv2">
                                <img src={Logo}>
                            </div>
                            <div class="Wel_message">
                                    <lightning-input type="text" placeholder="Enter Your Name" label="Name"
                                        value={quickbotname} onchange={Quickbot_name}
                                        class="quickbot_input selectDropValues1" required></lightning-input>
                                    <div class="email_error_msg" if:false={name_msg}>Please Enter Valid Name
                                        Details..!</div>
                                <lightning-input type="text" label="Email" placeholder="Enter Your Email"
                                        value={quickbotemail} onchange={Quickbot_email}
                                        class="quickbot_input selectDropValues1" required></lightning-input>
                                <div class="email_error_msg" if:false={email_msg}>Please Enter Valid Email
                                    Details..!</div>

                                <lightning-input type="text" label="Subject" placeholder="Enter Your Subject"
                                    value={quickbotsubject} onchange={Quickbot_subject}
                                        class="quickbot_input selectDropValues1" required="true"></lightning-input>
                                    <div class="email_error_msg" if:false={subject_msg}>Please Enter Valid Subject
                                        Details..!</div>
                                    <lightning-textarea label="Message" placeholder="Enter your Message"
                                        value={quickbotmessage} onchange={Quickbot_message}
                                        class="quickbot_message selectDropValues1" required="true"></lightning-textarea>
                                    <div class="email_error_msg" if:false={Message_msg}>Please Enter Valid Message
                                        Details..!</div>

                                    <lightning-input label="Add Attachment" onchange={handleUploadFinished} type="file"
                                        name="file" accept=".png , .jpeg , .jpg" class="quickbot_message" multiple></lightning-input>
                                    <template if:true={filesData}>
                                            <ul class="image-list">
                                        <template for:each={filesData} for:item="imgName" for:index="index">
                                                        <li key={imgName.id}>
                                                            <div class="container">
                                                                <div class="box box1">
                                                                    <p>{imgName.fileName}</p>
                                                                </div>
                                                                <div class="box removeImage" key={imgName.fileName} data-id={index} onclick={removeReceiptImage}>
                                                                    <img src={Cross} class="cross_img_file">
                                                                </div>
                                                            </div>
                                                        </li>     
                                        </template>
                                            </ul>
                                    </template>
                                <div class="quickbot_button" onclick={quickbot_Submit}><span>Submit</span></div>
                            </div>
                        </template>
                    </div>
                    <!-- typing spinner  -->
                    <template if:true={spinnerdatatable}>
                        <div class="load">
                            <div class="progress"></div>
                            <div class="progress"></div>
                            <div class="progress"></div>
                        </div>
                    </template>
                </div>
                <div class="QuickBotFooter">
                    Powered by <span class="Owner"><a href="https://www.mvclouds.com" target="_blank">MV Clouds</a></span>
                </div>
            </div>
        </div>
    </template>

</template>